<div class="signup">

    <md-layout>
        <md-layout md-align="center" md-gutter="1">

            <md-whiteframe v-if="state.stage==='user'" md-elevation="14">
                <md-card md-with-hover>

                    <md-card-header>
                        <div class="md-title">
                            <h1>Quick Start Up</h1></div>
                        <div class="md-subhead">Get a project up and running</div>
                    </md-card-header>

                    <h2 v-if="state.error" class="error">{{ state.error }}</h2>

                    <md-card-content md-ratio="1:3">
                        <form v-on:keyup.enter="state = createUser(email,pw)">
                            <md-input-container>
                                <label>What is your email address?</label>
                                <md-input tabindex="0" autofocus id="email" v-model="email" placeholder="Email"></md-input>
                            </md-input-container>
                            <!-- <md-input-container> -->
                            <label>Choose a password</label>
                            <!-- <md-input id="password" type="password" v-model="pw" placeholder="Password">
                                        
                                         </md-input>-->
                            <password id="password" type="password" v-model="pw"></password>
                            <!-- </md-input-container> -->
                        </form>
                    </md-card-content>

                    <md-card-actions>
                        <div v-on:click="state = createUser(email,pw)" v-on:keyup.enter="state = createUser(email,pw)">
                            <md-button class="md-raised md-primary">Next</md-button>
                        </div>
                    </md-card-actions>

                </md-card>
            </md-whiteframe>

            <md-whiteframe v-if="state.stage==='project'" md-elevation="14">
                <md-card md-with-hover>

                    <md-card-header>
                        <div class="md-title">
                            <h1>Project details</h1></div>
                        <div class="md-subhead">Few project details</div>
                    </md-card-header>

                    <h2 v-if="state.error" class="error">{{ state.error }}</h2>

                    <md-card-content md-ratio="1:3">
                        <form v-on:keyup.enter="state = project(projectName)">
                            <md-input-container>
                                <label>What is the project called</label>
                                <md-input tabindex="0" autofocus id="projectName" v-model="projectName" placeholder="Project name"></md-input>
                            </md-input-container>
                        </form>
                    </md-card-content>

                    <md-card-actions>
                        <div v-on:click="state = project(projectName)">
                            <md-button class="md-raised md-primary">Next</md-button>
                        </div>
                    </md-card-actions>

                </md-card>
            </md-whiteframe>

            <md-whiteframe v-if="state.stage==='owner'" md-elevation="14">
                <md-card md-with-hover>

                    <md-card-header>
                        <div class="md-title">
                            <h1>About you</h1></div>
                        <div class="md-subhead"></div>
                    </md-card-header>

                    <md-card-content md-ratio="1:3">
                        <form v-on:keyup.enter="state = owner(name,role)">
                            <md-input-container>
                                <label>What is your name?</label>
                                <md-input tabindex="0" autofocus id='ownerName' v-model="name" placeholder="name"></md-input>
                            </md-input-container>

                            <md-input-container>
                                <label for="ownerRole">What is your role in the project</label>
                                <md-select name="ownerRole" id="ownerRole" v-model="ownerRole">
                                    <md-option v-for="role in roles" v-bind:value="role"> {{role}}</md-option>
                                </md-select>
                            </md-input-container>
                        </form>
                    </md-card-content>

                    <md-card-actions>
                        <div v-on:click="state = owner(name,ownerRole)">
                            <md-button class="md-raised md-primary">Next</md-button>
                        </div>


                    </md-card-actions>

                </md-card>
            </md-whiteframe>

            <transition name="fade">

                <md-whiteframe v-if="state.stage==='team'" md-elevation="14">
                    <md-card md-with-hover>

                        <md-card-header>
                            <div class="md-title">
                                <h1>About the team</h1></div>
                            <div class="md-subhead"></div>
                        </md-card-header>

                        <md-card-content md-ratio="1:3">
                                <md-table v-if="state.members.length > 0" md-sort="name">
                                <md-table-header>
                                    <md-table-row>
                                        <md-table-head md-sort-by="name">Name</md-table-head>
                                        <md-table-head md-sort-by="email" md-tooltip="We'll send them an invite">Email</md-table-head>
                                        <md-table-head md-sort-by="role">Role</md-table-head>
                                    </md-table-row>
                                </md-table-header>

                                <md-table-body>
                                    <md-table-row v-for="(position, index) in state.members" :key="index">
                                        <md-table-cell>{{position.name}}</md-table-cell>
                                        <md-table-cell>{{position.email}}</md-table-cell>
                                        <md-table-cell>{{position.role}}</md-table-cell>
                                    </md-table-row>
                                </md-table-body>
                            </md-table>
                            <form v-on:keyup.enter="state = owner(name,role)">
                                <md-input-container>
                                    <label>What is their name</label>
                                    <md-input tabindex="0" autofocus id='teamName' v-model="name" placeholder="name"></md-input>
                                </md-input-container>
                                <md-input-container>
                                    <label for="teamRole">What is your role in the project</label>
                                    <md-select name="teamRole" id="teamRole" v-model="teamRole">
                                        <md-option v-for="role in roles" v-bind:value="role"> {{role}}</md-option>
                                    </md-select>
                                </md-input-container>

                                <md-input-container>
                                    <label>What is their email?</label>
                                    <md-input id='teamEmail' v-model="email" placeholder="email"></md-input>
                                </md-input-container>
                            </form>
                        </md-card-content>
                        <md-card-actions>
                            <div v-on:click="state = addmember(teamName,teamRole,teamEmail,state)">
                                    <md-button class="md-raised md-primary"><i class="fa fa-plus-circle" aria-hidden="true"></i></md-button>
                            </div>
                        </md-card-actions>


                        <md-card-actions>
                            <div v-on:click="team(done=true)">
                                <md-button class="md-raised md-primary">Definition of done</md-button>
                            </div>
                            <div v-on:click="next(done=true)">
                                <md-button class="md-raised md-primary">Enter some stories</md-button>
                            </div>
                        </md-card-actions>

                    </md-card>
                </md-whiteframe>
            </transition>

        </md-layout>

        <md-layout md-gutter="1">
            <feed></feed>
        </md-layout>
    </md-layout>

</div>
